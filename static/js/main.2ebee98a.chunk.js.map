{"version":3,"sources":["Header.js","Map.js","data/state.js","Marker.js","questions/bear.js","Level.js","questions/shared.js","Card.js","Pockemons.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","root","margin","Header","classes","_React$useState","React","useState","_React$useState2","Object","slicedToArray","value","setValue","linkMap","forwardRef","props","ref","react_default","a","createElement","react_router_dom","assign","innerRef","to","linkLevel","linkPockemons","BottomNavigation","onChange","event","newValue","showLabels","className","BottomNavigationAction","id","label","icon","Map_default","component","Panorama_default","Kitchen_default","mapDOM","state","currentPlace","bearLocked","Marker","img","panorama","this","properties","ymaps","data","Manager","_panorama","_position","position","_imgSrc","src","loadImage","vow","Promise","resolve","image","Image","onload","crossOrigin","Map","ready","center","zoom","places","map","p","obj","GeoObject","geometry","type","coordinates","lat","lng","iconContent","name","balloonContentHeader","concat","balloonContentBody","imgUrl","description","balloonContentFooter","preset","balloonMaxWidth","openBalloonOnClick","geoObjects","add","events","createMarker","util","defineClass","getIconSet","all","default","hovered","spread","defaultImage","hoveredImage","offset","expanded","getPanorama","getPosition","Component","askBearQuestions","prompt","alert","Level","player","goNextPanorama2","_pan","console","dir","scope","assertThisInitialized","_this","locate","layer","panoramaType","then","panoramas","length","foundPanorama","_connectionArrows","Array","getConnectionArrows","getMarkers","marker","markers","_onClick","resolveQuestionFunction","questions","f","document","getElementById","click","setPanorama","log","goNextPanorama1","next","locateRequest","handleClick","ev","originalEvent","Player","direction","controls","media","height","flex","content","parent","display","MediaCard","buttons","active","CardActions","Button","size","color","Card","card","CardActionArea","CardMedia","title","CardContent","Typography","gutterBottom","variant","Pockemons","bear","src_Card_0","App","react_router","path","Boolean","window","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.2ebee98a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\r\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\r\nimport MapIcon from \"@material-ui/icons/Map\";\r\nimport PanoramaIcon from \"@material-ui/icons/Panorama\";\r\nimport KitchenIcon from \"@material-ui/icons/Kitchen\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        margin: \"0 auto\"\r\n    }\r\n});\r\n\r\nexport default function Header() {\r\n    const classes = useStyles();\r\n    const [value, setValue] = React.useState(0);\r\n\r\n    const linkMap = React.forwardRef((props, ref) => <Link innerRef={ref} to=\"/map\" {...props} />);\r\n    const linkLevel = React.forwardRef((props, ref) => <Link innerRef={ref} to=\"/level\" {...props} />);\r\n    const linkPockemons = React.forwardRef((props, ref) => <Link innerRef={ref} to=\"/pockemons\" {...props} />);\r\n\r\n    return (\r\n        <BottomNavigation\r\n            value={value}\r\n            onChange={(event, newValue) => {\r\n                setValue(newValue);\r\n            }}\r\n            showLabels\r\n            className={classes.root}\r\n        >\r\n            <BottomNavigationAction id=\"nav-map\" label=\"Карта\" icon={<MapIcon />} component={linkMap} />\r\n            <BottomNavigationAction id=\"nav-level\" label=\"Уровень\" icon={<PanoramaIcon />} component={linkLevel} />\r\n            <BottomNavigationAction id=\"nav-pockemons\" label=\"Гатчимоны\" icon={<KitchenIcon />} component={linkPockemons}/>\r\n        </BottomNavigation>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport places from \"./data/places.json\";\r\nimport \"./Map.css\";\r\nimport { state } from \"./data/state\";\r\nimport { initializeMarkers } from \"./Marker\";\r\n\r\nlet mapDOM;\r\n\r\nfunction createMarker(p) {\r\n    // eslint-disable-next-line no-undef\r\n    const obj = new ymaps.GeoObject(\r\n        {\r\n            geometry: {\r\n                type: \"Point\",\r\n                coordinates: [p.lat, p.lng]\r\n            },\r\n            properties: {\r\n                iconContent: p.name,\r\n                balloonContentHeader: `<h5>${p.name}</h5>`,\r\n                balloonContentBody:\r\n                    `<img src=\"${p.imgUrl}\" height=\"150\" width=\"200\"> <br/>` + `<p>${p.description}</p>`,\r\n                balloonContentFooter:\r\n                    '<button type=\"button\" onClick=\"document.getElementById(`nav-level`).click()\" class=\"btn btn-success\">Поймать Гатчемонов</button>'\r\n            }\r\n        },\r\n        {\r\n            preset: \"islands#blackStretchyIcon\",\r\n            balloonMaxWidth: 250,\r\n            openBalloonOnClick: true\r\n        }\r\n    );\r\n    mapDOM.geoObjects.add(obj);\r\n\r\n    obj.events.add(\"click\", function() {\r\n        state.currentPlace = p;\r\n    });\r\n}\r\n\r\nexport default class Map extends React.Component {\r\n    componentDidMount() {\r\n        function init() {\r\n            // eslint-disable-next-line no-undef\r\n            mapDOM = new ymaps.Map(\"maps\", {\r\n                center: [59.5654, 30.1084],\r\n                zoom: 14\r\n            });\r\n            places.map(p => createMarker(p));\r\n\r\n            initializeMarkers();\r\n        }\r\n\r\n        // eslint-disable-next-line no-undef\r\n        ymaps.ready(init);\r\n    }\r\n\r\n    render() {\r\n        return <div id=\"maps\" />;\r\n    }\r\n}\r\n","export const state = {\r\n    currentPlace: null,\r\n    bearLocked: true,\r\n};","export function Marker(img, panorama) {\r\n    // В классе должно быть определено поле properties.\r\n    // eslint-disable-next-line no-undef\r\n    this.properties = new ymaps.data.Manager();\r\n    this._panorama = panorama;\r\n    this._position = img.position;\r\n    this._imgSrc = img.src;\r\n}\r\n\r\n// Функция возвращает Promise-объект, который будет разрешен\r\n// объектом HTMLImageElement.\r\nfunction loadImage(src) {\r\n    // eslint-disable-next-line no-undef\r\n    return new ymaps.vow.Promise(function(resolve) {\r\n        var image = new Image();\r\n        image.onload = function() {\r\n            resolve(image);\r\n        };\r\n        image.crossOrigin = \"anonymous\";\r\n        image.src = src;\r\n    });\r\n}\r\n\r\n// Функция, которая рисует маркер с помощью Canvas.\r\nfunction renderImage(text) {\r\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\");\r\n    ctx.canvas.width = 128;\r\n    ctx.canvas.height = 32;\r\n    ctx.fillStyle = \"#333333\";\r\n    ctx.fillRect(0, 0, 128, 32);\r\n    ctx.fillStyle = \"white\";\r\n    ctx.font = \"12px Arial\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.textBaseline = \"middle\";\r\n    ctx.fillText(text, 64, 16);\r\n    return ctx.canvas;\r\n}\r\n\r\nexport function initializeMarkers() {\r\n    // eslint-disable-next-line no-undef\r\n    ymaps.util.defineClass(Marker, {\r\n        getIconSet: function() {\r\n            // eslint-disable-next-line no-undef\r\n            return ymaps.vow.Promise.all([loadImage(this._imgSrc.default), loadImage(this._imgSrc.hovered)]).spread(\r\n                function(defaultImage, hoveredImage) {\r\n                    return {\r\n                        default: {\r\n                            image: defaultImage,\r\n                            offset: [0, 0]\r\n                        },\r\n                        hovered: {\r\n                            image: hoveredImage,\r\n                            offset: [0, 0]\r\n                        },\r\n                        expanded: {\r\n                            image: hoveredImage,\r\n                            offset: [0, 0]\r\n                        }\r\n                    };\r\n                }\r\n            );\r\n        },\r\n        getPanorama: function() {\r\n            return this._panorama;\r\n        },\r\n        getPosition: function() {\r\n            return this._position;\r\n        }\r\n    });\r\n}\r\n","export function askBearQuestions() {\r\n    let one = prompt(\"В каком году началось строительство Гатчинского дворца?\");\r\n    alert(\"Правильно!\");\r\n\r\n    let two = prompt(\"Какая фамилия у графа, для которого был построен дворец?\");\r\n    alert(\"Правильно!\");\r\n\r\n    let three = prompt(\"Кто был архитектором дворца?\");\r\n    alert(\"Правильно!\");\r\n\r\n    return true;\r\n}","import React from \"react\";\r\nimport \"./Level.css\";\r\nimport { Marker } from \"./Marker\";\r\nimport { state } from \"./data/state\";\r\nimport { resolveQuestionFunction } from \"./questions/shared\";\r\n\r\nexport default class Level extends React.Component {\r\n    panorama = null;\r\n    player = null;\r\n\r\n    render() {\r\n        // eslint-disable-next-line no-undef\r\n        if (!ymaps.panorama || !state.currentPlace) {\r\n            return <h1 className=\"p-5\">Уровень не выбран, выберите его на карте</h1>;\r\n        }\r\n\r\n        return <div id=\"level\" />;\r\n    }\r\n\r\n    goNextPanorama2 = _pan => {\r\n        console.dir(_pan);\r\n        const scope = this;\r\n\r\n        // eslint-disable-next-line no-undef\r\n        var locateRequest = ymaps.panorama.locate([_pan.lat, _pan.lng], {\r\n            layer: state.currentPlace.panoramaType\r\n        });\r\n\r\n        locateRequest.then(function(panoramas) {\r\n            if (panoramas.length) {\r\n                const foundPanorama = panoramas[0];\r\n\r\n                // disable arrows\r\n                foundPanorama._connectionArrows = Array();\r\n                foundPanorama.getConnectionArrows = function() {\r\n                    return [];\r\n                };\r\n\r\n                foundPanorama.getMarkers = function() {\r\n                    const marker = new Marker(_pan.markers[0], this);\r\n                    marker._onClick = () => {\r\n                        const f = resolveQuestionFunction(_pan.questions);\r\n                        const result = f();\r\n                        if (result) {\r\n                            state.bearLocked = false;\r\n                            document.getElementById(`nav-pockemons`).click();\r\n                        }\r\n                    };\r\n                    return [marker];\r\n                };\r\n\r\n                scope.player.setPanorama(foundPanorama);\r\n            } else {\r\n                console.log(\"В заданной точке нет панорам.\");\r\n            }\r\n        });\r\n    };\r\n\r\n    goNextPanorama1 = _pan => {\r\n        console.dir(_pan);\r\n        const scope = this;\r\n\r\n        // eslint-disable-next-line no-undef\r\n        var locateRequest = ymaps.panorama.locate([_pan.lat, _pan.lng], {\r\n            layer: state.currentPlace.panoramaType\r\n        });\r\n\r\n        locateRequest.then(function(panoramas) {\r\n            if (panoramas.length) {\r\n                const foundPanorama = panoramas[0];\r\n\r\n                // disable arrows\r\n                foundPanorama._connectionArrows = Array();\r\n                foundPanorama.getConnectionArrows = function() {\r\n                    return [];\r\n                };\r\n\r\n                foundPanorama.getMarkers = function() {\r\n                    const marker = new Marker(_pan.markers[0], this);\r\n                    if (_pan.next.length > 0) {\r\n                        marker._onClick = () => scope.goNextPanorama2(_pan.next[0]);\r\n                    }\r\n                    return [marker];\r\n                };\r\n\r\n                scope.player.setPanorama(foundPanorama);\r\n            } else {\r\n                console.log(\"В заданной точке нет панорам.\");\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // eslint-disable-next-line no-undef\r\n        if (!ymaps.panorama || !state.currentPlace) {\r\n            return;\r\n        }\r\n\r\n        // eslint-disable-next-line no-undef\r\n        var locateRequest = ymaps.panorama.locate([state.currentPlace.lat, state.currentPlace.lng], {\r\n            layer: state.currentPlace.panoramaType\r\n        });\r\n\r\n        const scope = this;\r\n\r\n        locateRequest.then(function(panoramas) {\r\n            if (panoramas.length) {\r\n                // Создание на странице плеера панорам.\r\n                // eslint-disable-next-line no-undef\r\n\r\n                const foundPanorama = panoramas[0];\r\n                foundPanorama.getMarkers = function() {\r\n                    const marker = new Marker(state.currentPlace.markers[0], this);\r\n                    if (state.currentPlace.next.length > 0) {\r\n                        marker._onClick = () => scope.goNextPanorama1(state.currentPlace.next[0]);\r\n                    }\r\n                    return [marker];\r\n                };\r\n\r\n                // disable arrows\r\n                foundPanorama._connectionArrows = Array();\r\n                foundPanorama.getConnectionArrows = function() {\r\n                    return [];\r\n                };\r\n\r\n                // eslint-disable-next-line no-undef\r\n                scope.player = new ymaps.panorama.Player(\"level\", foundPanorama, {\r\n                    // Опции панорамы.\r\n                    // direction - направление взгляда.\r\n                    direction: [0, -50],\r\n                    controls: [\"panoramaName\"]\r\n                });\r\n\r\n                function handleClick(ev) {\r\n                    // const person = window.prompt(\"Please enter your name:\", \"Harry Potter\");\r\n                    // const y = window.confirm(\"yes\");\r\n                    if (ev.originalEvent.marker._onClick) {\r\n                        ev.originalEvent.marker._onClick();\r\n                    }\r\n                }\r\n\r\n                scope.player.events.add(\"markerexpand\", handleClick);\r\n                scope.player.events.add(\"markercollapse\", handleClick);\r\n            } else {\r\n                console.log(\"В заданной точке нет панорам.\");\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { askBearQuestions } from \"./bear\";\r\n\r\nexport function resolveQuestionFunction(name) {\r\n    if (name === \"bear\") {\r\n        return askBearQuestions;\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport \"./Card.css\";\r\n\r\nconst useStyles = makeStyles({\r\n    media: {\r\n        height: 140,\r\n        flex: \"1 1 50%\"\r\n    },\r\n    content: {\r\n        flex: \"1 1 50%\"\r\n    },\r\n    parent: {\r\n        display: \"flex\"\r\n    }\r\n});\r\n\r\nfunction MediaCard(props) {\r\n    const classes = useStyles();\r\n\r\n    const buttons =\r\n        props && props.active ? (\r\n            <CardActions>\r\n                <Button size=\"small\" color=\"primary\">\r\n                    Поделиться\r\n                </Button>\r\n                <Button size=\"small\" color=\"primary\">\r\n                    Узнать больше\r\n                </Button>\r\n            </CardActions>\r\n        ) : null;\r\n\r\n    return (\r\n        <Card className={classes.card}>\r\n            <CardActionArea className={classes.parent}>\r\n                <CardMedia className={classes.media} image={props.img} title=\"Contemplative Reptile\" />\r\n                <CardContent className={classes.content}>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {props.title}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {props.description}\r\n                    </Typography>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            {buttons}\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default MediaCard;\r\n","import React from \"react\";\r\nimport MediaCard from \"./Card\";\r\nimport { state } from \"./data/state\";\r\n\r\nexport default function Pockemons() {\r\n    const bearTitle = \"Бурый медведь\";\r\n    const description =\r\n        \"Бурый медведь - хищное млекопитающее семейства медвежьих; один из самых крупных наземных хищников.\";\r\n    const bear = state.bearLocked ? (\r\n        <MediaCard description={description} title={bearTitle} active={false} img={\"/pockemons/bear_a_gray.jpg\"} />\r\n    ) : (\r\n        <MediaCard description={description} title={bearTitle} active={true} img={\"/pockemons/bear_a.png\"} />\r\n    );\r\n\r\n    return <div className=\"p-2\">{bear}</div>;\r\n}\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Map from \"./Map\";\r\nimport Level from \"./Level\";\r\nimport Pockemons from \"./Pockemons\";\r\n\r\nfunction App() {\r\n    return (\r\n        <Router>\r\n            <div className=\"App\">\r\n                <Header />\r\n                <main>\r\n                    <Switch>\r\n                        <Route path=\"/map\" component={Map} />\r\n                        <Route path=\"/level\" component={Level} />\r\n                        <Route path=\"/pockemons\" component={Pockemons} />\r\n                        <Redirect to=\"/map\" />\r\n                    </Switch>\r\n                </main>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}